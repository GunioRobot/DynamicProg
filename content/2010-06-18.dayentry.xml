<?xml version="1.0" encoding="utf-8"?>
<DayEntry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="urn:newtelligence-com:dasblog:runtime:data">
  <Date>2010-06-17T17:00:00-07:00</Date>
  <Entries>
    <Entry>
      <Content>&lt;p&gt;The title kind of tell it all. I started to use pickle now for filling up and managing my test with cucumber. Fill up data, etc.&lt;/p&gt; &lt;p&gt;Pickle creates some step definitions for you to make things easy, what it's much appreciated. There is a great RailCast on setting things up, you can &lt;a href="http://railscasts.com/episodes/186-pickle-with-cucumber"&gt;watch&lt;/a&gt; it or &lt;a href="http://asciicasts.com/episodes/186-pickle-with-cucumber"&gt;read&lt;/a&gt; about it.&lt;/p&gt; &lt;p&gt;The problem I got was that I wrote the following Cucumber scenario:&lt;/p&gt; &lt;p style="margin-bottom: 0cm; background: none repeat scroll 0% 0% rgb(192, 192, 192);" align="LEFT"&gt;  &lt;font face="Courier 10 Pitch"&gt;@wip&lt;br /&gt;Scenario: Assign roles&lt;br /&gt;&amp;nbsp; Given the following roles exist&lt;br /&gt;&amp;nbsp; | name&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;      |&lt;br /&gt;&amp;nbsp; | admin&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;     |&lt;br /&gt;&amp;nbsp; | reader&amp;nbsp;&amp;nbsp;&amp;nbsp;    |&lt;br /&gt;&amp;nbsp; | publisher |&lt;br /&gt;&amp;nbsp; When I am on the roles page&lt;br /&gt;&amp;nbsp; Then I should see "admin"&lt;br /&gt;&amp;nbsp; And I should see "reader"&lt;br /&gt;&amp;nbsp; And I should see "publisher"&lt;/font&gt;&lt;/p&gt;  &lt;br /&gt;&lt;p&gt;And when running cucumber I got a message that indicates that I have an undefined step for the Given step and this bit of code:&lt;/p&gt; &lt;p&gt;&lt;img style="max-width: 800px;" src="http://blog.dynamicprogrammer.com/content/binary/missing_step.png" /&gt;&lt;br /&gt;&lt;/p&gt; &lt;p&gt;Now that was a bit disconcerting since the Given step match this pickle steps:&lt;/p&gt;    &lt;p style="margin-bottom: 0cm; background: none repeat scroll 0% 0% rgb(0, 0, 0);" align="LEFT"&gt;&lt;font face="Courier 10 Pitch"&gt;&lt;font color="#00ffff"&gt;# create models from a table&lt;br /&gt;Given&lt;/font&gt;&lt;font color="#f8f8f2"&gt;(&lt;/font&gt;&lt;font color="#ffff66"&gt;/^the following #{&lt;/font&gt;&lt;font color="#f8f8f2"&gt;capture_plural_factory&lt;/font&gt;&lt;font color="#ffff66"&gt;} exists?:?$/&lt;/font&gt;&lt;font color="#f8f8f2"&gt;)&lt;/font&gt;&lt;font color="#40a187"&gt; do&lt;/font&gt;&lt;font color="#f8f8f2"&gt;&amp;nbsp; |&lt;/font&gt;&lt;font color="#00ffff"&gt;plural_factory&lt;/font&gt;&lt;font color="#f8f8f2"&gt;,&lt;/font&gt;&lt;font color="#00ffff"&gt; table&lt;/font&gt;&lt;br /&gt;&lt;font color="#ffffff"&gt;&amp;nbsp;&amp;nbsp; create_models_from_table(plural_factory, table) &lt;/font&gt;&lt;br /&gt;&lt;font color="#40a187"&gt;|end&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;Or so I though. The problem was that I didn't have the model or the db table yet. That was a bit disconcerting, I could expect the error message to tell me something more in the line of: Ups, we couldn't find a model for the User or something like.  &lt;/p&gt; &lt;p&gt;Once you think about it make sense, since capture_plural_factory will be evaluate on runtime and won't much any existing model.&lt;br /&gt;&lt;/p&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class="zemanta-pixie"&gt;&lt;img class="zemanta-pixie-img" alt="" src="http://img.zemanta.com/pixy.gif?x-id=da2873a1-ab82-8ca0-b2c8-eceff5bd0d36" /&gt;&lt;/div&gt;</Content>
      <Created>2010-06-17T20:06:45.8381113-07:00</Created>
      <Modified>2010-06-17T20:06:45.8381113-07:00</Modified>
      <EntryId>23cdeac6-c365-4cf6-8e5b-075979749255</EntryId>
      <Description />
      <Title>Pickle cucumber steps not recognized before creating the model.</Title>
      <Categories>General;Programming</Categories>
      <Author>hgarcia</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
      <Latitude xsi:nil="true" />
      <Longitude xsi:nil="true" />
    </Entry>
  </Entries>
</DayEntry>